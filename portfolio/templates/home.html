{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/lightbox.css' %}">
<style>
    .gallery { padding: 3rem; max-width: 1400px; margin: 0 auto; }
    .photo { margin-bottom: 2rem; cursor: pointer; background: #1a1a1a; padding: 5% 5% 15% 5%; transition: transform 0.3s; box-shadow: 0 1px 3px rgba(255,255,255,0.08); }
    .photo:hover { transform: scale(1.002) rotateX(2deg); }
    body.light-mode .photo { background: #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.12); }
    .photo img { width: 100%; height: auto; display: block; }
    @media (max-width: 768px) { body { margin-top: 150px; } .gallery { padding: 1.5rem; } }
</style>
{% endblock %}
{% block content %}
    <script>window.photos = [{% for photo in photos %}{ thumb: "{{ photo.thumbnail.url }}", full: "{{ photo.image.url }}" }{% if not forloop.last %},{% endif %}{% endfor %}];</script>
    <div class="gallery">
        {% for photo in photos %}<div class="photo" onclick="openLightbox({{ forloop.counter0 }})"><img src="{{ photo.thumbnail.url }}" alt="" loading="lazy"></div>{% endfor %}
    </div>
    {% include 'lightbox.html' %}
{% endblock %}
{% block extra_js %}<script src="{% static 'js/lightbox.js' %}" defer></script>{% endblock %}