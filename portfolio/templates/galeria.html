{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/lightbox.css' %}">
<style>
    .gallery-grid { padding: 3rem; columns: 4; column-gap: 1rem; max-width: 1400px; margin: 0 auto; }
    .photo-thumb { cursor: pointer; overflow: hidden; transition: transform 0.3s, opacity 0.3s; break-inside: avoid; margin-bottom: 1rem; }
    .photo-thumb:hover { transform: scale(1.008); opacity: 0.9; }
    .photo-thumb img { width: 100%; height: auto; display: block; }
    @media (max-width: 1200px) { .gallery-grid { columns: 3; } }
    @media (max-width: 768px) { body { margin-top: 150px; } .gallery-grid { padding: 1.5rem; columns: 2; } }
</style>
{% endblock %}
{% block content %}
    <script>window.photos = [{% for photo in photos %}{ thumb: "{{ photo.thumbnail.url }}", full: "{{ photo.image.url }}" }{% if not forloop.last %},{% endif %}{% endfor %}];</script>
    <div class="gallery-grid">
        {% for photo in photos %}<div class="photo-thumb" onclick="openLightbox({{ forloop.counter0 }})"><img src="{{ photo.thumbnail.url }}" alt="" loading="lazy"></div>{% endfor %}
    </div>
    {% include 'lightbox.html' %}
{% endblock %}
{% block extra_js %}<script src="{% static 'js/lightbox.js' %}" defer></script>{% endblock %}